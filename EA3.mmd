flowchart TD
    Start([TAXPAYER FILES RETURN])
    
    %% First Decision
    Start --> Decision1{REFUND OR<br/>TAX DUE?}
    
    %% Refund Path
    Decision1 -->|Gets Refund| Refund[REFUND DUE<br/>üí∞ Claim Within 3 Years]
    Refund --> RefundAction[Direct Deposit or<br/>Paper Check or<br/>Apply to Next Year]
    RefundAction --> RefundEnd([‚úÖ REFUND RECEIVED])
    
    %% Tax Owed Path
    Decision1 -->|Owes Tax| TaxDue{FILED ON TIME?}
    
    %% Filed Late Branch
    TaxDue -->|Filed LATE<br/>>60 Days| FiledLate[‚ö†Ô∏è FAILURE-TO-FILE PENALTY<br/>MIN $510 or 100% of tax<br/>PLUS<br/>Standard: 5%/month MAX 25%]
    FiledLate --> LatePayment{PAYMENT STATUS?}
    
    %% Filed On Time Branch
    TaxDue -->|Filed ON TIME| OnTime{PAYMENT STATUS?}
    
    %% On Time Payment
    OnTime -->|Paid ON TIME<br/>by April 15| PaidOnTime[‚úÖ NO PENALTIES<br/>‚úÖ NO INTEREST<br/>Only Tax Owed]
    PaidOnTime --> Complete([‚úÖ TAX OBLIGATION COMPLETE])
    
    %% Paid Late
    OnTime -->|Paid LATE<br/>or Partial| PaidLate[‚ö†Ô∏è FAILURE-TO-PAY PENALTY<br/>0.5% per month MAX 25%<br/>+<br/>Interest accrues DAILY<br/>from April 15]
    PaidLate --> NoticeIssued
    
    LatePayment -->|Paid Late or Not Paid| PaidLate
    
    %% No Payment
    OnTime -->|NO PAYMENT| NoPayment[üî¥ NO PAYMENT MADE<br/><br/>Penalties Accruing:<br/>‚Ä¢ Failure-to-Pay: 0.5%/mo<br/>‚Ä¢ Interest: Daily<br/><br/>‚è∞ CSED STARTS<br/>10-Year Collection Period]
    
    LatePayment -->|No Payment| NoPayment
    
    NoPayment --> NoticeIssued[üìß IRS SENDS NOTICE & DEMAND<br/><br/>CP14: First Bill<br/>CP501: Reminder<br/>CP503: Final Demand<br/><br/>‚ö° Assessment Date Triggered]
    
    %% Taxpayer Decision Point
    NoticeIssued --> TaxpayerChoice{TAXPAYER<br/>CHOOSES?}
    
    %% Option 1: Pay in Full
    TaxpayerChoice -->|Pay Full Amount| PayFull[üíµ PAY IN FULL<br/><br/>Tax + Penalties + Interest<br/>All amounts due paid]
    PayFull --> DebtCleared([‚úÖ DEBT ELIMINATED])
    
    %% Option 2: Installment Agreement
    TaxpayerChoice -->|Payment Plan| InstallChoice{PLAN TYPE?}
    
    InstallChoice -->|Short-Term<br/>‚â§180 days| ShortTerm[üìÖ SHORT-TERM PLAN<br/><br/>‚Ä¢ Duration: Up to 6 months<br/>‚Ä¢ Setup Fee: $0<br/>‚Ä¢ Penalty: 0.5%/month<br/>‚Ä¢ Interest: Daily accrual<br/>‚Ä¢ Payment: Manual]
    
    InstallChoice -->|Long-Term<br/>>180 days| LongTerm[üìÖ LONG-TERM PLAN<br/><br/>Setup Fees:<br/>‚Ä¢ Direct Debit Online: $22<br/>‚Ä¢ Direct Debit Phone: $107<br/>‚Ä¢ Other Online: $69<br/>‚Ä¢ Other Phone/Mail: $178<br/><br/>Penalty: 0.25%/month ‚¨áÔ∏è<br/>Interest: Daily accrual<br/>Duration: 24-72 months]
    
    ShortTerm --> PaymentMade{PAYMENTS<br/>ON TIME?}
    LongTerm --> PaymentMade
    
    PaymentMade -->|Yes, All Paid| PlanComplete([‚úÖ PLAN COMPLETED<br/>Debt Paid Off])
    PaymentMade -->|Missed Payment| Default[‚ùå DEFAULT<br/><br/>CP523 Notice Sent<br/>30 Days to Respond<br/><br/>Options:<br/>‚Ä¢ Reinstate $225<br/>‚Ä¢ Modify Plan<br/>‚Ä¢ Face Collection]
    
    Default --> DefaultChoice{RESPONSE?}
    DefaultChoice -->|Reinstate/Modify| PaymentMade
    DefaultChoice -->|No Response| EnforcementStart
    
    %% Option 3: Currently Not Collectible
    TaxpayerChoice -->|Financial Hardship| CNC[‚è∏Ô∏è CURRENTLY NOT COLLECTIBLE<br/><br/>Requirements:<br/>‚Ä¢ Form 433-F Required<br/>‚Ä¢ Show Financial Hardship<br/>‚Ä¢ No Available Funds<br/><br/>Effects:<br/>‚úÖ Collection STOPS<br/>‚úÖ No Levies/Liens<br/>üîÑ Penalties CONTINUE<br/>üîÑ Interest CONTINUES<br/>üîÑ CSED CONTINUES<br/><br/>üìÜ Annual IRS Review]
    
    CNC --> CNCReview{ANNUAL<br/>REVIEW}
    CNCReview -->|Still Hardship| CNC
    CNCReview -->|Improved Income| NoticeIssued
    CNCReview -->|CSED Expires| CSEDExpire
    
    %% Option 4: Offer in Compromise
    TaxpayerChoice -->|Settle for Less| OIC[ü§ù OFFER IN COMPROMISE<br/><br/>Requirements:<br/>‚Ä¢ Form 656<br/>‚Ä¢ Show inability to pay<br/>‚Ä¢ Doubt as to collectibility<br/><br/>Fees:<br/>‚Ä¢ Application: $205<br/>‚Ä¢ 20% of offer with first payment<br/><br/>Timeline: 2-6+ months review<br/>‚è∏Ô∏è CSED SUSPENDED during review]
    
    OIC --> OICDecision{IRS<br/>DECISION?}
    OICDecision -->|Accepted| OICAccepted[‚úÖ ACCEPTED<br/><br/>Pay agreed amount<br/>Remaining debt FORGIVEN]
    OICAccepted --> DebtResolved([‚úÖ DEBT RESOLVED])
    
    OICDecision -->|Rejected| OICRejected[‚ùå REJECTED<br/><br/>Original debt still owed<br/>Collection resumes<br/>CSED countdown continues]
    OICRejected --> EnforcementStart
    
    %% Option 5: Hardship Extension
    TaxpayerChoice -->|Need More Time| Hardship[üìã FORM 1127<br/>HARDSHIP EXTENSION<br/><br/>Requirements:<br/>‚Ä¢ Substantial financial loss<br/>‚Ä¢ Not just inconvenience<br/>‚Ä¢ Asset/liability statement<br/>‚Ä¢ 3-month income/expense<br/><br/>If Approved:<br/>‚Ä¢ 6-month extension typical<br/>‚Ä¢ 18 months max for deficiency<br/>‚Ä¢ Interest continues<br/>‚Ä¢ Collection paused<br/><br/>‚ö†Ô∏è Rarely Approved]
    
    Hardship --> HardshipDecision{APPROVED?}
    HardshipDecision -->|Yes| HardshipGranted[‚úÖ EXTENSION GRANTED<br/>6 months additional time<br/>Must pay by new deadline]
    HardshipGranted --> PaymentMade
    HardshipDecision -->|No| EnforcementStart
    
    %% Option 6: Bankruptcy
    TaxpayerChoice -->|File Bankruptcy| Bankruptcy[‚öñÔ∏è BANKRUPTCY<br/><br/>Discharge Requirements ALL Must Be True:<br/>‚úì Income tax debt ONLY<br/>‚úì Return due 3+ years ago<br/>‚úì Return filed 2+ years ago<br/>‚úì IRS assessed 240+ days ago<br/>‚úì Return NOT fraudulent<br/>‚úì NOT guilty of tax evasion<br/><br/>During Bankruptcy:<br/>‚úÖ Automatic Stay - Collection STOPS<br/>‚è∏Ô∏è CSED SUSPENDED]
    
    Bankruptcy --> BankruptcyEligible{ELIGIBLE?}
    BankruptcyEligible -->|Yes| BankruptcyDischarge[‚úÖ DEBT DISCHARGED<br/><br/>Income tax forgiven<br/>No longer liable<br/>Other taxes may remain]
    BankruptcyDischarge --> DebtDischarged([‚úÖ DEBT ELIMINATED<br/>VIA BANKRUPTCY])
    
    BankruptcyEligible -->|No| BankruptcyDenied[‚ùå NOT ELIGIBLE<br/><br/>Debt remains<br/>Collection resumes<br/>after bankruptcy]
    BankruptcyDenied --> EnforcementStart
    
    %% Option 7: No Action / Ignore
    TaxpayerChoice -->|Take NO ACTION<br/>Ignore Notices| NoAction[üö´ NO RESPONSE<br/><br/>Penalties & Interest<br/>Continue Growing:<br/><br/>Month 1: +0.5% + Interest<br/>Month 2: +0.5% + Interest<br/>Month 3: +0.5% + Interest<br/>...<br/>Month 50: MAX 25% Penalty<br/><br/>Debt Compounds Daily]
    
    %% Collection Enforcement
    NoAction --> EnforcementStart[‚ö° IRS ENFORCEMENT BEGINS]
    
    EnforcementStart --> Lien[üìé FEDERAL TAX LIEN FILED<br/><br/>Threshold: Typically >$10,000<br/><br/>Effects:<br/>‚Ä¢ Public record<br/>‚Ä¢ Attaches to ALL property<br/>‚Ä¢ Damages credit score<br/>‚Ä¢ Prevents refinancing<br/>‚Ä¢ Blocks home sales<br/><br/>Remains until:<br/>‚Ä¢ Debt paid in full<br/>‚Ä¢ Installment plan withdrawal<br/>‚Ä¢ CSED expires]
    
    Lien --> Levy[‚ö° NOTICE OF INTENT TO LEVY<br/><br/>LT1058 or CP90 Sent<br/>30-Day Waiting Period<br/><br/>CDP Hearing Available:<br/>‚Ä¢ Request within 30 days<br/>‚Ä¢ Challenge collection method<br/>‚Ä¢ Innocent spouse claim<br/>‚Ä¢ Propose alternatives<br/>‚Ä¢ CSED SUSPENDED during hearing]
    
    Levy --> LevyAction{TAXPAYER<br/>RESPONSE?}
    
    LevyAction -->|Request CDP Hearing| CDP[‚öñÔ∏è COLLECTION DUE PROCESS<br/><br/>IRS Appeals Reviews:<br/>‚Ä¢ Appropriateness of levy<br/>‚Ä¢ Taxpayer defenses<br/>‚Ä¢ Alternative solutions<br/>‚Ä¢ Financial situation<br/><br/>Timeline: Up to 365 days<br/>‚è∏Ô∏è CSED SUSPENDED<br/>‚úÖ Collection PAUSED<br/><br/>Decision Options:<br/>‚Ä¢ Sustain levy<br/>‚Ä¢ Grant installment plan<br/>‚Ä¢ CNC status<br/>‚Ä¢ Innocent spouse relief]
    
    CDP --> CDPDecision{APPEALS<br/>DECISION?}
    CDPDecision -->|Favorable| TaxpayerChoice
    CDPDecision -->|Unfavorable| CDPAppeal{FILE TAX<br/>COURT APPEAL?}
    CDPAppeal -->|Yes| TaxCourt[‚öñÔ∏è U.S. TAX COURT<br/><br/>Judicial Review<br/>Can overturn IRS<br/>Legal representation advised]
    CDPAppeal -->|No| LevyExecute
    TaxCourt --> TaxCourtDecision{COURT<br/>RULING?}
    TaxCourtDecision -->|Taxpayer Wins| TaxpayerChoice
    TaxCourtDecision -->|IRS Wins| LevyExecute
    
    LevyAction -->|No Response<br/>30 Days Pass| LevyExecute[‚ö° LEVY EXECUTED<br/><br/>WAGE GARNISHMENT:<br/>‚Ä¢ Employer notified<br/>‚Ä¢ Portion of each paycheck<br/>‚Ä¢ Continues until paid<br/>‚Ä¢ Exempt amount allowed<br/><br/>BANK LEVY:<br/>‚Ä¢ Bank account frozen<br/>‚Ä¢ Funds seized in 21 days<br/>‚Ä¢ Can levy repeatedly<br/><br/>OTHER LEVIES:<br/>‚Ä¢ Social Security benefits<br/>‚Ä¢ Retirement accounts<br/>‚Ä¢ Business accounts<br/>‚Ä¢ Property seizure]
    
    LevyExecute --> Offset[üí≥ REFUND OFFSET PROGRAM<br/><br/>Treasury Offset Program:<br/>‚Ä¢ Future refunds seized<br/>‚Ä¢ Applied to tax debt<br/>‚Ä¢ State tax debts<br/>‚Ä¢ Student loans<br/>‚Ä¢ Child support<br/><br/>‚ö†Ô∏è NO TIME LIMIT<br/>Can offset 20+ year old debts]
    
    Offset --> CSEDCheck{10 YEARS<br/>PASSED?}
    
    %% CSED Expiration
    PlanComplete --> CSEDCheck
    CNCReview --> CSEDCheck
    DebtResolved --> CSEDCheck
    
    CSEDCheck -->|Yes| CSEDExpire[‚è∞ CSED EXPIRES<br/><br/>Collection Statute<br/>Expiration Date Reached<br/><br/>10 Years from Assessment<br/><br/>Exceptions:<br/>‚ùå Fraud = No Limit<br/>‚ùå No Return Filed = No Limit<br/>‚ùå Omitted >25% = 6 Years<br/><br/>Tolling Events:<br/>‚Ä¢ OIC pending<br/>‚Ä¢ CDP hearing<br/>‚Ä¢ Bankruptcy<br/>‚Ä¢ Out of country]
    
    CSEDExpire --> DebtExpired([‚úÖ DEBT ELIMINATED<br/>Cannot Be Collected<br/><br/>Unless:<br/>‚Ä¢ Fraudulent return filed<br/>‚Ä¢ No return filed ever])
    
    CSEDCheck -->|No, Still Within<br/>10 Years| StillOwed[‚ö†Ô∏è DEBT STILL ACTIVE<br/><br/>Collection continues<br/>Penalties/interest accrue<br/>Enforcement available<br/><br/>Remaining Time:<br/>Until CSED expires]
    
    StillOwed --> TaxpayerChoice
    
    %% Styling
    classDef successClass fill:#d4edda,stroke:#28a745,stroke-width:3px,color:#000
    classDef warningClass fill:#fff3cd,stroke:#ffc107,stroke-width:3px,color:#000
    classDef dangerClass fill:#f8d7da,stroke:#dc3545,stroke-width:3px,color:#000
    classDef infoClass fill:#d1ecf1,stroke:#17a2b8,stroke-width:3px,color:#000
    classDef neutralClass fill:#e2e3e5,stroke:#6c757d,stroke-width:2px,color:#000
    classDef processClass fill:#cfe2ff,stroke:#0d6efd,stroke-width:2px,color:#000
    
    class PaidOnTime,Complete,DebtCleared,PlanComplete,DebtResolved,DebtDischarged,DebtExpired,RefundEnd successClass
    class PaidLate,FiledLate,NoPayment,Default,StillOwed warningClass
    class NoAction,EnforcementStart,Lien,Levy,LevyExecute,Offset dangerClass
    class CNC,OIC,Hardship,CDP,TaxCourt,Bankruptcy infoClass
    class ShortTerm,LongTerm,HardshipGranted processClass
    class Start,Decision1,TaxDue,OnTime,TaxpayerChoice,InstallChoice neutralClass
